# cpp-study

## 접근 제한자

| 접근 위치              | `public` | `protected` | `private` |
| ------------------ | -------- | ----------- | --------- |
| 클래스 내부             | ✅ 가능     | ✅ 가능        | ✅ 가능      |
| **파생 클래스(자식 클래스)** | ✅ 가능     | ✅ 가능        | ❌ 불가능     |
| 외부(일반 함수, main 등)  | ✅ 가능     | ❌ 불가능       | ❌ 불가능     |


🔓 `public` (공개 접근)

+ 어디서든 접근이 가능하다

+ 예: 해당 클래스의 객체를 사용하는 모든 코드에서 멤버에 접근할 수 있다.


🔓 `protected` (보호된 접근)

+ **자기 자신**과 **파생 클래스(자식 클래스) 내부**에서만 접근 가능

+ 클래스 외(main이나 일반 함수 등)에서는 접근 불가능

🔒 `private` (비공개 접근)

+ 같은 클래스 내부에서만 접근 가능하다.

+ 외부(즉, 클래스 밖에 있는 함수나 다른 클래스 등)에서는 접근할 수 없다.

**"외부"의 범위는 어디까지인가?**

+ 외부란 다음을 포함한다:

  1. 클래스의 멤버 함수가 아닌 일반 함수
 
  2. 다른 클래스의 멤버 함수
 
  3. main 함수를 포함한 프로그램 전체에서 클래스 밖에 있는 코드
 
###✅ **예외**

+ friend 함수나 friend 클래스로 지정된 경우는 예외적으로 private 멤버에 접근할 수 있습니다.

+ 같은 클래스 내부에서라면 private 멤버 간에 자유롭게 접근할 수 있습니다.

### ✅ **핵심 개념: “접근 권한”은 “누가” 접근하느냐에 따라 달라진다**

**상속을 받았다는 것은:**

+ **자식 클래스 내부**에서 부모 클래스의 `protected` 멤버에 **접근**할 권한이 생긴 것

+ 즉, **자식 객체가 "스스로" `protected`멤버에 접근하는 코드를 작성할 수 있다는 것**

### 🚫 **“외부 코드(main 함수)”는 여전히 protected 멤버에 접근할 수 없습니다**

```cpp
#include <iostream>

class Parent
{
protected:
    int _secretData;
public:
    Parent(/* args */);
    ~Parent();
};

Parent::Parent(/* args */)
{
}

Parent::~Parent()
{
}

class Child : public Parent
{
public:
    Child(/* args */) {}
    ~Child() {}
};


int main() {
    Child child;

    child._secretData = 1;
}
```

여기서 child._secretData는 **main 함수(=외부)** 가 `child`객체의 `_secretData`멤버에 접근하려는 시도이다.

그리고 `_secretData`는 `protected`멤버 이므로, **외부에서는 접근할 수 없다.**

### 🔍 “자식이 상속받았다는 것” vs “외부에서 자식 객체를 사용할 수 있다는 것”의 차이

| 상황                             | 접근 가능 여부 | 설명                       |
| ------------------------------ | -------- | ------------------------ |
| `Child` 클래스 **내부**에서 `a` 멤버 사용 | ✅ 가능     | 자식 클래스니까 접근 허용           |
| \*\*main 함수(외부)\*\*에서 `a.a` 사용 | ❌ 불가     | 외부는 `protected` 멤버 접근 불가 |
